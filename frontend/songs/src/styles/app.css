:root{--brand:#2563eb;--text:#0f172a;--muted:#64748b;--bg:#f8fafc;--panel:#ffffff;--border:#e2e8f0;--danger:#ef4444;}
*{box-sizing:border-box}
html,body,#root{height:100%}
body{margin:0;font:16px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Noto Sans, "Apple Color Emoji","Segoe UI Emoji";color:var(--text);background:var(--bg)}

.app-container{max-width:1000px;margin:0 auto;padding:24px}
.topbar{display:flex;align-items:center;justify-content:space-between;margin:0 0 16px}
.brand-title{margin:0;font-size:28px}
.topbar-right{display:flex;align-items:center;gap:8px}
.user-pill{background:var(--panel);border:1px solid var(--border);padding:6px 10px;border-radius:20px}

.content{display:grid;grid-template-columns:1.2fr .8fr;gap:16px}
@media (max-width: 800px){.content{grid-template-columns:1fr}}

.panel{background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:16px}
.panel-title{margin:0 0 12px;font-size:22px}
.panel-subtitle{margin:0 0 12px;font-size:18px}

.form{display:flex;flex-direction:column;gap:12px}
.form-label{display:flex;flex-direction:column;gap:6px;font-size:14px}
.input{padding:10px 12px;border:1px solid var(--border);border-radius:10px;background:#fff}

.btn{border:1px solid var(--border);background:#fff;padding:10px 14px;border-radius:999px;cursor:pointer}
.btn.primary{background:var(--brand);border-color:var(--brand);color:#fff}
.btn:disabled{opacity:.6;cursor:not-allowed}

.link{appearance:none;background:none;border:0;color:var(--brand);cursor:pointer;padding:0}
.meta{color:var(--muted)}
.error{color:#fff;background:var(--danger);padding:8px 10px;border-radius:8px}
.muted{color:var(--muted)}

.webcam-card .camera-row{display:flex;gap:12px;align-items:flex-start}
@media (max-width: 800px){.webcam-card .camera-row{flex-direction:column}}
.video-wrap{flex:1;aspect-ratio:4/3;background:#000;border-radius:12px;overflow:hidden}
.video{width:100%;height:100%;object-fit:cover;display:block}
.video.unmirrored{transform:scaleX(-1) !important}
.reading{width:100%;max-width:280px;display:flex;flex-direction:column;gap:10px}
.gauge{display:flex;align-items:center;justify-content:center;height:80px;border:2px dashed var(--border);border-radius:12px;text-transform:capitalize}
.gauge-label{font-weight:600}
.legend{display:flex;flex-wrap:wrap;gap:6px;margin:8px 0 0}

.badge{display:inline-block;padding:6px 10px;border-radius:999px;background:var(--bg);border:1px solid var(--border);text-transform:capitalize}
.badge.small{font-size:12px;padding:4px 8px}

.camera-toggle-row{display:flex;gap:8px}

.history-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:8px}
.history-item{padding:10px;border:1px solid var(--border);border-radius:10px;background:#fff}
.history-row{display:flex;align-items:center;justify-content:space-between;margin:0 0 6px}
.time{color:var(--muted);font-size:12px}
.note{margin:0;color:var(--text)}

/* Mood color cues */
.mood-happy .badge,.mood-happy .gauge{border-color:#f59e0b}
.mood-sad .badge,.mood-sad .gauge{border-color:#3b82f6}
.mood-neutral .badge,.mood-neutral .gauge{border-color:#94a3b8}
.mood-angry .badge,.mood-angry .gauge{border-color:#ef4444}
.mood-surprised .badge,.mood-surprised .gauge{border-color:#a855f7}
.mood-fearful .badge,.mood-fearful .gauge{border-color:#10b981}
.mood-disgusted .badge,.mood-disgusted .gauge{border-color:#84cc16}
.mood-calm .badge,.mood-calm .gauge{border-color:#22d3ee}

.auth-container{position:relative;max-width:420px;margin:24px auto;padding:40px;border-radius:20px;background:linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #4facfe 75%, #00f2fe 100%);background-size:400% 400%;animation:gradient-shift 15s ease infinite;box-shadow:0 20px 60px rgba(0, 0, 0, 0.3)}

.animated-bg-blob{position:absolute;border-radius:50%;filter:blur(50px);opacity:0.5;z-index:-1}

.blob-1{width:280px;height:280px;background:rgba(255, 0, 127, 0.8);top:-80px;left:-80px;animation:float-blob-1 8s ease-in-out infinite}

.blob-2{width:320px;height:320px;background:rgba(0, 255, 200, 0.8);bottom:-100px;right:-100px;animation:float-blob-2 10s ease-in-out infinite}

.blob-3{width:250px;height:250px;background:rgba(255, 200, 0, 0.8);top:50%;left:50%;transform:translate(-50%, -50%);animation:float-blob-3 9s ease-in-out infinite}

@keyframes gradient-shift{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}

@keyframes float-blob-1{0%{transform:translate(0, 0) scale(1);}25%{transform:translate(30px, -30px) scale(1.15);}50%{transform:translate(0, -50px) scale(0.85);}75%{transform:translate(-30px, -20px) scale(1.1);}100%{transform:translate(0, 0) scale(1);}}

@keyframes float-blob-2{0%{transform:translate(0, 0) scale(1);}25%{transform:translate(-40px, 40px) scale(1.1);}50%{transform:translate(0, 50px) scale(1.15);}75%{transform:translate(40px, 30px) scale(0.9);}100%{transform:translate(0, 0) scale(1);}}

@keyframes float-blob-3{0%{transform:translate(-50%, -50%) scale(1) rotate(0deg);}25%{transform:translate(-50%, -50%) scale(1.2) rotate(90deg);}50%{transform:translate(-50%, -50%) scale(0.85) rotate(180deg);}75%{transform:translate(-50%, -50%) scale(1.1) rotate(270deg);}100%{transform:translate(-50%, -50%) scale(1) rotate(360deg);}}

.auth-panel{max-width:420px;margin:0 auto;position:relative;z-index:1;background:rgba(255, 255, 255, 0.95);backdrop-filter:blur(10px);border-radius:16px;padding:32px;box-shadow:0 8px 32px rgba(0, 0, 0, 0.1)}

/* Chat bot widget */
.chatbot{position:fixed;right:16px;bottom:16px;z-index:1000}
.chatbot.closed .chatbot-window{display:none}
.chatbot-toggle{margin-bottom:8px}
.chatbot-window{width:280px;max-height:360px;display:flex;flex-direction:column}
.chatbot-header{font-weight:600;margin-bottom:8px}
.chatbot-messages{flex:1;overflow:auto;display:flex;flex-direction:column;gap:8px;padding:4px}
.chatbot-msg{padding:8px 10px;border-radius:10px;border:1px solid var(--border);background:#fff;max-width:85%}
.chatbot-msg.user{align-self:flex-end;background:var(--bg)}
.chatbot-msg.bot{align-self:flex-start}
.chatbot-input-row{display:flex;gap:8px;align-items:flex-end;margin-top:8px}
.chatbot-input{resize:none}

/* Song Player */
.song-player{background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:16px;margin-top:16px}
.player-header{margin-bottom:16px}
.player-title{margin:0 0 4px;font-size:18px;font-weight:600}
.player-subtitle{margin:0;font-size:12px;color:var(--muted)}
.player-empty{text-align:center;padding:20px;color:var(--muted)}
.player-hint{font-size:12px;margin:8px 0 0}

.player-controls{display:flex;justify-content:center;gap:12px;margin:12px 0}
.player-btn{border:1px solid var(--border);background:#fff;padding:10px 14px;border-radius:50%;cursor:pointer;font-size:16px;width:40px;height:40px;display:flex;align-items:center;justify-content:center}
.player-btn:hover{background:var(--bg)}
.player-btn.play-btn{background:var(--brand);border-color:var(--brand);color:#fff;width:48px;height:48px;font-size:18px}
.player-btn.play-btn:hover{opacity:.9}

.player-progress{display:flex;align-items:center;gap:8px;margin:12px 0;font-size:12px}
.progress-bar{flex:1;height:4px;border-radius:2px;cursor:pointer}
.time-label{color:var(--muted);min-width:30px}

.song-list{display:flex;flex-direction:column;gap:8px;margin-top:12px;max-height:150px;overflow-y:auto}
.song-item{padding:8px 10px;border:1px solid var(--border);border-radius:8px;background:#fff;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all .2s}
.song-item:hover{background:var(--bg);border-color:var(--brand)}
.song-item.active{background:var(--brand);border-color:var(--brand);color:#fff}
.song-icon{font-size:14px}
.song-name{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px}
